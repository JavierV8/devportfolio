{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport BaseLayout from \"../components/layouts/BaseLayout\";\nimport BasePage from \"../components/shared/BasePage\";\nimport { Button } from \"reactstrap\";\nimport PortfolioCard from \"../components/portfolios/PortfolioCard\";\nimport { Router } from \"../routes\";\nimport { getPortfolios, deletePortfolio } from \"../store/actions/Portafolio\";\n\nclass Portfolio extends React.Component {\n  static async getInitialProps() {\n    let portfolios = [];\n\n    try {\n      portfolios = await getPortfolios();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return {\n      portfolios\n    };\n  }\n\n  navigateToEdit(portfolioId, e) {\n    e.stopPropagation();\n    Router.push({\n      pathname: \"/portfolioEdit\",\n      query: {\n        id: portfolioId\n      }\n    });\n  }\n\n  displayDeleteWarning(portfolioId, e) {\n    e.stopPropagation();\n    const isConfirm = confirm(\"Are you sure you want to delete this portfolio???\");\n\n    if (isConfirm) {\n      this.deletePortfolio(portfolioId);\n    }\n  }\n\n  deletePortfolio(portfolioId) {\n    deletePortfolio(portfolioId).then(() => {\n      Router.pushRoute(\"/portfolio\");\n    }).catch(err => console.error(err));\n  }\n\n  renderPortfolios(portfolios) {\n    const {\n      isAuth,\n      isAdmin\n    } = this.props.auth;\n    portfolios.sort((a, b) => a.num < b.num ? 1 : b.num < a.num ? -1 : 0);\n    return portfolios.map((portfolio, index) => {\n      return __jsx(PortfolioCard, {\n        className: \"portfolio-card\",\n        portfolio: portfolio\n      }, isAuth && isAdmin ? __jsx(React.Fragment, null, __jsx(Button, {\n        onClick: e => this.navigateToEdit(portfolio._id, e),\n        color: \"warning\"\n      }, \"Edit\"), \" \", __jsx(Button, {\n        onClick: e => this.displayDeleteWarning(portfolio._id, e),\n        color: \"danger\"\n      }, \"Delete\")) : null);\n    });\n  }\n\n  render() {\n    const {\n      portfolios,\n      auth\n    } = this.props;\n    return __jsx(BaseLayout, {\n      auth: auth,\n      className: \"portfolio-cover\"\n    }, __jsx(BasePage, {\n      className: \"portfolio-page bounceInRight\",\n      title: \"Portfolio\"\n    }, __jsx(\"p\", {\n      className: \"portfolio-text\"\n    }, \"Feel free to see some of my code... Some concepts of software engineering that i like to share with the community:\"), __jsx(\"div\", {\n      className: \"portfolio-container\"\n    }, this.renderPortfolios(portfolios))));\n  }\n\n}\n\nexport default Portfolio;","map":{"version":3,"sources":["C:/Users/javie/OneDrive/Escritorio/a/devportfolio/pages/portfolio.js"],"names":["React","BaseLayout","BasePage","Button","PortfolioCard","Router","getPortfolios","deletePortfolio","Portfolio","Component","getInitialProps","portfolios","err","console","error","navigateToEdit","portfolioId","e","stopPropagation","push","pathname","query","id","displayDeleteWarning","isConfirm","confirm","then","pushRoute","catch","renderPortfolios","isAuth","isAdmin","props","auth","sort","a","b","num","map","portfolio","index","_id","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,6BAA/C;;AAEA,MAAMC,SAAN,SAAwBR,KAAK,CAACS,SAA9B,CAAwC;AACtC,eAAaC,eAAb,GAA+B;AAC7B,QAAIC,UAAU,GAAG,EAAjB;;AACA,QAAI;AACFA,MAAAA,UAAU,GAAG,MAAML,aAAa,EAAhC;AACD,KAFD,CAEE,OAAOM,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;;AACD,WAAO;AAAED,MAAAA;AAAF,KAAP;AACD;;AAEDI,EAAAA,cAAc,CAACC,WAAD,EAAcC,CAAd,EAAiB;AAC7BA,IAAAA,CAAC,CAACC,eAAF;AACAb,IAAAA,MAAM,CAACc,IAAP,CAAY;AACVC,MAAAA,QAAQ,EAAE,gBADA;AAEVC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,EAAE,EAAEN;AAAN;AAFG,KAAZ;AAID;;AAEDO,EAAAA,oBAAoB,CAACP,WAAD,EAAcC,CAAd,EAAiB;AACnCA,IAAAA,CAAC,CAACC,eAAF;AACA,UAAMM,SAAS,GAAGC,OAAO,CACvB,mDADuB,CAAzB;;AAGA,QAAID,SAAJ,EAAe;AACb,WAAKjB,eAAL,CAAqBS,WAArB;AACD;AACF;;AAEDT,EAAAA,eAAe,CAACS,WAAD,EAAc;AAC3BT,IAAAA,eAAe,CAACS,WAAD,CAAf,CACGU,IADH,CACQ,MAAM;AACVrB,MAAAA,MAAM,CAACsB,SAAP,CAAiB,YAAjB;AACD,KAHH,EAIGC,KAJH,CAIUhB,GAAD,IAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAJlB;AAKD;;AAEDiB,EAAAA,gBAAgB,CAAClB,UAAD,EAAa;AAC3B,UAAM;AAAEmB,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAsB,KAAKC,KAAL,CAAWC,IAAvC;AACAtB,IAAAA,UAAU,CAACuB,IAAX,CAAgB,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,GAAF,GAAQD,CAAC,CAACC,GAAV,GAAgB,CAAhB,GAAoBD,CAAC,CAACC,GAAF,GAAQF,CAAC,CAACE,GAAV,GAAgB,CAAC,CAAjB,GAAqB,CAApE;AAEA,WAAO1B,UAAU,CAAC2B,GAAX,CAAe,CAACC,SAAD,EAAYC,KAAZ,KAAsB;AAC1C,aACE,MAAC,aAAD;AAAe,QAAA,SAAS,EAAC,gBAAzB;AAA0C,QAAA,SAAS,EAAED;AAArD,SACGT,MAAM,IAAIC,OAAV,GACC,MAAC,KAAD,CAAO,QAAP,QACE,MAAC,MAAD;AACE,QAAA,OAAO,EAAGd,CAAD,IAAO,KAAKF,cAAL,CAAoBwB,SAAS,CAACE,GAA9B,EAAmCxB,CAAnC,CADlB;AAEE,QAAA,KAAK,EAAC;AAFR,gBADF,EAMY,GANZ,EAOE,MAAC,MAAD;AACE,QAAA,OAAO,EAAGA,CAAD,IAAO,KAAKM,oBAAL,CAA0BgB,SAAS,CAACE,GAApC,EAAyCxB,CAAzC,CADlB;AAEE,QAAA,KAAK,EAAC;AAFR,kBAPF,CADD,GAeG,IAhBN,CADF;AAoBD,KArBM,CAAP;AAsBD;;AAEDyB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE/B,MAAAA,UAAF;AAAcsB,MAAAA;AAAd,QAAuB,KAAKD,KAAlC;AAEA,WACE,MAAC,UAAD;AAAY,MAAA,IAAI,EAAEC,IAAlB;AAAwB,MAAA,SAAS,EAAC;AAAlC,OACE,MAAC,QAAD;AAAU,MAAA,SAAS,EAAC,8BAApB;AAAmD,MAAA,KAAK,EAAC;AAAzD,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,4HADF,EAKE;AAAK,MAAA,SAAS,EAAC;AAAf,OACG,KAAKJ,gBAAL,CAAsBlB,UAAtB,CADH,CALF,CADF,CADF;AAaD;;AAjFqC;;AAoFxC,eAAeH,SAAf","sourcesContent":["import React from \"react\";\r\nimport BaseLayout from \"../components/layouts/BaseLayout\";\r\nimport BasePage from \"../components/shared/BasePage\";\r\nimport { Button } from \"reactstrap\";\r\nimport PortfolioCard from \"../components/portfolios/PortfolioCard\";\r\nimport { Router } from \"../routes\";\r\nimport { getPortfolios, deletePortfolio } from \"../store/actions/Portafolio\";\r\n\r\nclass Portfolio extends React.Component {\r\n  static async getInitialProps() {\r\n    let portfolios = [];\r\n    try {\r\n      portfolios = await getPortfolios();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return { portfolios };\r\n  }\r\n\r\n  navigateToEdit(portfolioId, e) {\r\n    e.stopPropagation();\r\n    Router.push({\r\n      pathname: \"/portfolioEdit\",\r\n      query: { id: portfolioId },\r\n    });\r\n  }\r\n\r\n  displayDeleteWarning(portfolioId, e) {\r\n    e.stopPropagation();\r\n    const isConfirm = confirm(\r\n      \"Are you sure you want to delete this portfolio???\"\r\n    );\r\n    if (isConfirm) {\r\n      this.deletePortfolio(portfolioId);\r\n    }\r\n  }\r\n\r\n  deletePortfolio(portfolioId) {\r\n    deletePortfolio(portfolioId)\r\n      .then(() => {\r\n        Router.pushRoute(\"/portfolio\");\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  renderPortfolios(portfolios) {\r\n    const { isAuth, isAdmin } = this.props.auth;\r\n    portfolios.sort((a, b) => (a.num < b.num ? 1 : b.num < a.num ? -1 : 0));\r\n\r\n    return portfolios.map((portfolio, index) => {\r\n      return (\r\n        <PortfolioCard className=\"portfolio-card\" portfolio={portfolio}>\r\n          {isAuth && isAdmin ? (\r\n            <React.Fragment>\r\n              <Button\r\n                onClick={(e) => this.navigateToEdit(portfolio._id, e)}\r\n                color=\"warning\"\r\n              >\r\n                Edit\r\n              </Button>{\" \"}\r\n              <Button\r\n                onClick={(e) => this.displayDeleteWarning(portfolio._id, e)}\r\n                color=\"danger\"\r\n              >\r\n                Delete\r\n              </Button>\r\n            </React.Fragment>\r\n          ) : null}\r\n        </PortfolioCard>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { portfolios, auth } = this.props;\r\n\r\n    return (\r\n      <BaseLayout auth={auth} className=\"portfolio-cover\">\r\n        <BasePage className=\"portfolio-page bounceInRight\" title=\"Portfolio\">\r\n          <p className=\"portfolio-text\">\r\n            Feel free to see some of my code... Some concepts of software\r\n            engineering that i like to share with the community:\r\n          </p>\r\n          <div className=\"portfolio-container\">\r\n            {this.renderPortfolios(portfolios)}\r\n          </div>\r\n        </BasePage>\r\n      </BaseLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Portfolio;\r\n"]},"metadata":{},"sourceType":"module"}